# count the number of issues per file

awk -F: '/.+/{files[$1]+=1;} END{for(f in files)print f" "files[f];}' <(staticcheck ./...) | sort -nk2

# Unique check errors.

# Produce novel static check into outfile
staticcheck ./... >staticcheck.out

# Append latest checklist into TODO.txt
awk -F\: 'BEGIN{print ""} /.+/{print "[ ]"$4}' staticcheck.out | sort -u -t \( -k2 -k1 >> TODO.txt

# Edit TODO.txt and remove old task list after appending.

[ ] "io/ioutil" has been deprecated since Go 1.19
[ ] should omit second index in slice, s[a
[ ] strings.Title has been deprecated since Go 1.18 and an alternative has been available since Go 1.0
[ ] this value of file is never used (SA4006)
[ ] self-assignment of file to file (SA4018)
[ ] error strings should not be capitalized (ST1005)
[ ] error strings should not end with punctuation or newlines (ST1005)
[ ] func createChecksumFromZip is unused (U1000)
